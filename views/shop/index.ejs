<%- include('../includes/head.ejs') %>

  <%- include('../includes/navigation.ejs') %>

    <main>

      <% if(hasProducts) { %>

        <% for (let product of prods){%>

          <div class="grid">
            <article class="card product-item">
              <header class="card__header">
                  <h1 class="product__title"><%= product.title %></h1>
              </header>
              <div class="card__image">
                  <img src="/<%= product.imageUrl %>" alt="A Book">
              </div>
              <div class="card__content">
                  <h2 class="product__price"><%= product.price %></h2>
                  <p class="product__description"><%= product.description %></p>
              </div>
              <%if(isAuthenticated){%>
                <%- include('../includes/add-to-cart', {product}) %>
              <%}%>
            </article>
          </div>
        <% } %>
        <section class="pagination">

          <% if(currentPage != 1){ %>
            <a href='/?page=1'>1</a>
          <% } %>

          <a href='/?page=<%= currentPage %>' class="active" '><%= currentPage %></a>

          <% if(hasNextPage){%>
            <a href='/?page=<%= currentPage %>' class="active" '><%= nextPage %></a>
          <%}%>

          <%if(lastPage !== currentPage && nextPage !== lastPage){%>
            <a href='/?page=<%= lastPage %>' class="active" '><%= lastPage %></a>
          <%}%>

        </section
      <% } else { %>
          <h1>has no products</h1>
      <% } %>

    </main>

<%- include('../includes/end.ejs') %>
